{"componentChunkName":"component---src-templates-blog-post-js","path":"/zh-hant/why-do-we-write-super-props/","result":{"data":{"site":{"siteMetadata":{"title":"Overreacted","author":"Dan Abramov"}},"markdownRemark":{"id":"b3e4b52d-89c2-5923-8dbd-531abbf60d87","html":"<p>æˆ‘è½èªª <a href=\"https://reactjs.org/docs/hooks-intro.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Hooks</a> æ­£å¤¯ï¼Œ ä½†æˆ‘æƒ³è¦å¾è«‡è«– <em>class</em> æœ‰è¶£çš„å°çŸ¥è­˜ä¾†é–‹å§‹é€™å€‹éƒ¨è½æ ¼ã€‚å¦‚ä½•ï¼Ÿ</p>\n<p><strong>é€™äº›è§£é‡‹å°æ–¼æœ‰æ•ˆåœ°ä½¿ç”¨ React ä¸¦<em>ä¸</em>é‡è¦ï¼Œä½†å°æ–¼å–œæ­¡æ·±å…¥äº†è§£å…¶é‹ä½œçš„ä½ ï¼Œå°‡æœƒç™¼ç¾ç•¶ä¸­æœ‰è¶£çš„äº‹æƒ…ã€‚</strong></p>\n<hr>\n<p>é¦–å…ˆï¼Œæˆ‘ç”Ÿå‘½ä¸­å¯«é <code class=\"language-text\">super(props)</code> çš„æ¬¡æ•¸æ¯”æˆ‘æƒ³è¦çŸ¥é“çš„é‚„å¤šï¼š</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Checkbox</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> isOn<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>æ²’éŒ¯ï¼Œ<a href=\"https://github.com/tc39/proposal-class-fields\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">é¡åˆ¥æ¬„ä½ææ¡ˆ</a> è®“æˆ‘å€‘èƒ½çœç•¥å®£å‘Šï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Checkbox</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> isOn<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>é¡ä¼¼é€™æ¨£çš„èªæ³•æ˜¯åœ¨ 2015 å¹´React 0.13 æ–°å¢å°ä¸€èˆ¬é¡åˆ¥çš„æ”¯æ´æ™‚å°±æœ‰çš„<a href=\"https://reactjs.org/blog/2015/01/27/react-v0.13.0-beta-1.html#es7-property-initializers\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">è¨ˆåŠƒ</a> ã€‚å®šç¾© <code class=\"language-text\">constructor</code> å’Œå‘¼å« <code class=\"language-text\">super(props)</code> çš„èªæ³•åœ¨ç•¶æ™‚ä¸€ç›´éƒ½è¢«ç•¶ä½œæ˜¯æš«æ™‚çš„è§£æ±ºæ–¹æ³•ï¼Œç›´åˆ°é¡åˆ¥æ¬„ä½æä¾›åˆé©çš„æ›¿ä»£æ–¹æ¡ˆã€‚</p>\n<p>ä½†åœ¨æ­¤ä¹‹å‰ï¼Œè®“æˆ‘å€‘å›åˆ°åªæœ‰ä½¿ç”¨ ES2015 çš„ä¾‹å­ï¼š</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Checkbox</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> isOn<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>ç‚ºä»€éº¼æˆ‘å€‘è¦å‘¼å« <code class=\"language-text\">super</code>ï¼Ÿèƒ½<em>ä¸</em>å‘¼å«å—ï¼Ÿæˆ–è€…æ˜¯å¦‚æœæˆ‘å€‘å¿…é ˆå¾—å‘¼å«ï¼Œä¸å¸¶å…¥ <code class=\"language-text\">props</code> æœƒç™¼ç”Ÿä»€éº½äº‹ï¼Ÿé‚„æœ‰å…¶ä»–æœ‰åƒæ•¸å—ï¼Ÿ</strong> æˆ‘å€‘ä¾†çœ‹çœ‹ã€‚</p>\n<hr>\n<p>åœ¨ JavaScript ä¸­ï¼Œ<code class=\"language-text\">super</code> æœƒåƒç…§çˆ¶é¡åˆ¥çš„å»ºæ§‹å­ã€‚ï¼ˆåœ¨æˆ‘å€‘çš„ä¾‹å­ç•¶ä¸­ï¼Œå®ƒæœƒæŒ‡å‘ <code class=\"language-text\">React.Component</code> çš„å¯¦ä½œã€‚ï¼‰</p>\n<p>é‡è¦çš„æ˜¯ï¼Œç›´åˆ°ä½ å‘¼å«çˆ¶é¡åˆ¥çš„å»ºæ§‹å­<em>å¾Œ</em>ï¼Œä½ æ‰èƒ½åœ¨å»ºæ§‹å­ä¸­ä½¿ç”¨ <code class=\"language-text\">this</code>ã€‚JavaScript ä¸æœƒè®“ä½ é€™éº¼åšï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Checkbox</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ğŸ”´ é‚„ä¸èƒ½ç”¨ `this`</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// âœ… ç¾åœ¨æ²’å•é¡Œäº†</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> isOn<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>JavaScript æœƒå¼·åˆ¶çˆ¶å»ºæ§‹å­åœ¨ä½ ç¢° <code class=\"language-text\">this</code> å‰è¢«åŸ·è¡Œæ˜¯æœ‰åŸå› çš„ã€‚æƒ³æƒ³é¡åˆ¥çš„éšå±¤ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">PolitePerson</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">greetColleagues</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ğŸ”´ é€™ä¸è¢«å…è¨±ï¼Œçœ‹ä¸‹é¢èªªæ˜</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">greetColleagues</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Good morning folks!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>æƒ³åƒä¸€ä¸‹å¦‚æœåœ¨ <code class=\"language-text\">super</code> è¢«å‘¼å«å‰ä½¿ç”¨ <code class=\"language-text\">this</code> <em>æ˜¯</em>è¢«å…è¨±çš„æœƒæ˜¯æ€æ¨£çš„æƒ…æ³ã€‚å¹¾å€‹æœˆå¾Œï¼Œæˆ‘å€‘å¯èƒ½æƒ³è®“æŸäººçš„åå­—åŒ…å«åœ¨ <code class=\"language-text\">greetColleagues</code> çš„è¨Šæ¯ä¸­ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">  <span class=\"token function\">greetColleagues</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Good morning folks!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'My name is '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">', nice to meet you!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>ä½†æ˜¯æˆ‘å€‘å¿˜äº† <code class=\"language-text\">this.greetColleagues()</code> æ˜¯åœ¨ <code class=\"language-text\">super()</code> æœ‰æ©Ÿæœƒè¨­ç½® <code class=\"language-text\">this.name</code> ä¹‹å‰å°±è¢«å‘¼å«äº†ã€‚æ‰€ä»¥ <code class=\"language-text\">this.name</code> æ ¹æœ¬ä¸æ›¾è¢«å®šç¾©éï¼å¦‚ä½ æ‰€è¦‹ï¼Œé€™æ¨£çš„ç¨‹å¼ç¢¼æ˜¯å¾ˆé›£ç†è§£çš„ã€‚</p>\n<p>ç‚ºäº†é¿å…è¸©é€™ç¨®é›·ï¼Œ<strong>å¦‚æœä½ æƒ³åœ¨å»ºæ§‹å­ä¸­ä½¿ç”¨ <code class=\"language-text\">this</code>ï¼ŒJavaScript å¼·åˆ¶ä½ <em>å¿…é ˆ</em>å…ˆå‘¼å« <code class=\"language-text\">super</code></strong>ã€‚è®“çˆ¶é¡åˆ¥å»åšå®ƒçš„äº‹ï¼é€™å€‹é™åˆ¶ä¹Ÿé©ç”¨æ–¼å®šç¾©ç‚ºé¡åˆ¥çš„ React å…ƒä»¶ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// âœ… èƒ½ä½¿ç”¨ `this` äº†</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> isOn<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>é€™è£¡ç•™ä¸‹äº†å¦ä¸€å€‹å•é¡Œï¼šç‚ºä»€éº¼è¦å¸¶å…¥ <code class=\"language-text\">props</code>ï¼Ÿ</p>\n<hr>\n<p>ä½ å¯èƒ½æœƒæƒ³ï¼Œå¸¶å…¥ <code class=\"language-text\">props</code> åˆ° <code class=\"language-text\">super</code> æ˜¯å¿…é ˆçš„ï¼Œå› ç‚ºåº•å±¤çš„ <code class=\"language-text\">React.Component</code> å»ºæ§‹å­æ‰èƒ½åˆå§‹åŒ– <code class=\"language-text\">this.props</code>ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// React å…§éƒ¨</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props <span class=\"token operator\">=</span> props<span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// ...</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>é€™é›¢çœŸå¯¦æƒ…æ³ç›¸å»ä¸é  â€” çš„ç¢ºï¼Œå®ƒæ˜¯ <a href=\"https://github.com/facebook/react/blob/1d25aa5787d4e19704c049c3cfa985d3b5190e0d/packages/react/src/ReactBaseClasses.js#L22\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">é€™éº¼åš</a> çš„ã€‚</p>\n<p>ä½†ä¸çŸ¥ç‚ºä½•ï¼Œå³ä½¿ä½ å‘¼å«çš„æ˜¯æ²’æœ‰å¸¶å…¥ <code class=\"language-text\">props</code> åƒæ•¸çš„ <code class=\"language-text\">super()</code>ï¼Œä½ ä»ç„¶å¯ä»¥åœ¨ <code class=\"language-text\">render</code> ä¸­æˆ–å…¶ä»–å‡½å¼è®€å– <code class=\"language-text\">this.props</code>ã€‚ï¼ˆå¦‚æœä½ ä¸ç›¸ä¿¡æˆ‘ï¼Œè‡ªå·±è©¦è©¦çœ‹ï¼ï¼‰</p>\n<p>é‚£<em>é€™</em>æ˜¯å¦‚ä½•é‹ä½œçš„ï¼Ÿäº‹å¯¦ä¸Š <strong>åœ¨ React å‘¼å«<em>ä½ çš„</em>å»ºæ§‹å­å¾Œï¼Œå®ƒä¹Ÿæœƒé¦¬ä¸Šé…ç½® <code class=\"language-text\">props</code> åˆ°å¯¦ä¾‹ä¸­ï¼š</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">  <span class=\"token comment\">// React å…§éƒ¨</span>\n  <span class=\"token keyword\">const</span> instance <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">YourComponent</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  instance<span class=\"token punctuation\">.</span>props <span class=\"token operator\">=</span> props<span class=\"token punctuation\">;</span></code></pre></div>\n<p>é€™å°±æ˜¯ç‚ºä»€éº¼å°±ç®—ä½ å¿˜è¨˜å¸¶å…¥ <code class=\"language-text\">props</code> åˆ° <code class=\"language-text\">super()</code> ä¸­ï¼ŒReact ä»æœƒåœ¨ä¹‹å¾Œé…ç½®å®ƒã€‚é€™æ˜¯æœ‰åŸå› çš„ã€‚</p>\n<p>ç•¶ React å¢åŠ å°é¡åˆ¥çš„æ”¯æ´ï¼Œå®ƒä¸¦ä¸æ˜¯åªæƒ³å¢åŠ å° ES6 é¡åˆ¥çš„æ”¯æ´ã€‚å®ƒçš„ç›®æ¨™æ˜¯ç›¡å¯èƒ½å»£æ³›åœ°æ”¯æ´æŠ½è±¡çš„é¡åˆ¥ã€‚ç•¶æ™‚æˆ‘å€‘é‚„ <a href=\"https://reactjs.org/blog/2015/01/27/react-v0.13.0-beta-1.html#other-languages\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ä¸æ¸…æ¥š</a> å¦‚ ClojureScriptï¼ŒCoffeeScriptï¼ŒES6ï¼ŒFableï¼ŒScala.jsï¼ŒTypeScript æˆ–å…¶ä»–çš„è§£æ±ºæ–¹æ¡ˆå¦‚ä½•ç›¸å°åœ°æˆåŠŸå®šç¾©å…ƒä»¶ï¼Œæ‰€ä»¥ç•¶æ™‚ React æ˜¯åˆ»æ„è¨­è¨ˆæˆå°æ˜¯å¦å¿…é ˆå‘¼å« <code class=\"language-text\">super()</code> é€™é»çœä¸€éš»çœ¼é–‰ä¸€éš»çœ¼çš„ â€”â€” å³ä½¿æ˜¯ ES6 çš„é¡åˆ¥ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p>\n<p>æ‰€ä»¥æ„æ€æ˜¯èªªä½ å¯ä»¥åªå¯« <code class=\"language-text\">super()</code> è€Œä¸ç”¨å¯« <code class=\"language-text\">super(props)</code> å—ï¼Ÿ</p>\n<p><strong>æœ€å¥½ä¸è¦ï¼Œå› ç‚ºé€™ä»ç„¶æœƒé€ æˆèª¤è§£ã€‚</strong>æ²’éŒ¯ï¼ŒReact æœƒåœ¨ä½ çš„å»ºæ§‹å­åŸ·è¡Œä¹‹å¾Œè‡ªè¡Œé…ç½® <code class=\"language-text\">this.props</code>ã€‚ä½†æ˜¯ <code class=\"language-text\">this.props</code> <em>å¾</em>å‘¼å« <code class=\"language-text\">super</code> åˆ°å»ºæ§‹å­çš„çµå°¾ä»ç„¶æœƒæ˜¯æœªå®šç¾©ï¼ˆundefinedï¼‰ã€‚</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// React å…§éƒ¨</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props <span class=\"token operator\">=</span> props<span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// ...</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// ä½ çš„ç¨‹å¼ç¢¼å…§éƒ¨</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Button</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ğŸ˜¬ æˆ‘å€‘å¿˜äº†å¸¶å…¥ props</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>      <span class=\"token comment\">// âœ… {}</span>\n<span class=\"gatsby-highlight-code-line\">    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ğŸ˜¬ æœªå®šç¾©ï¼ˆundefinedï¼‰</span></span>  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>å¦‚æœæŸäº›<em>å¾</em>å»ºæ§‹å­ä¸­è¢«å‘¼å«çš„å‡½å¼ç™¼ç”Ÿä»¥ä¸Šé€™ç¨®ç‹€æ³ï¼Œé™¤éŒ¯å°‡æœƒæ›´åŠ è‰±é›£ã€‚<strong>é€™å°±æ˜¯ç‚ºä»€éº½æˆ‘å»ºè­°é–‹ç™¼è€…ç¸½æ˜¯è¦å¸¶å…¥ <code class=\"language-text\">super(props)</code>ï¼Œå³ä½¿é€™ä¸¦éçµ•å°å¿…è¦ï¼š</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Button</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// âœ… æˆ‘å€‘å¸¶å…¥ props</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>      <span class=\"token comment\">// âœ… {}</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// âœ… {}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>é€™ç¢ºä¿äº† <code class=\"language-text\">this.props</code> åœ¨å»ºæ§‹å­çµ‚æ­¢ä¹‹å‰éƒ½æœƒè¢«è¨­ç½®ã€‚</p>\n<hr>\n<p>æœ€å¾Œé‚„æœ‰ä¸€é»æ˜¯é•·æœŸä»¥ä¾† React çš„ä½¿ç”¨è€…å¯èƒ½æœƒæ„Ÿåˆ°å¥½å¥‡çš„ã€‚</p>\n<p>ä½ æˆ–è¨±æœ‰æ³¨æ„åˆ°ï¼Œç•¶ä½ åœ¨é¡åˆ¥ä¸­ä½¿ç”¨ Context APIï¼ˆä¸è«–æ˜¯èˆŠæœ‰ <code class=\"language-text\">contextTypes</code> æˆ–æ˜¯å¾ React 16.6 æ–°å¢çš„æ–°å¼ <code class=\"language-text\">contextType</code> APIï¼‰ï¼Œ<code class=\"language-text\">context</code> æœƒä½œç‚ºç¬¬äºŒå€‹åƒæ•¸å‚³çµ¦å»ºæ§‹å­ã€‚</p>\n<p>æ‰€ä»¥ç‚ºä»€éº¼æˆ‘å€‘ä¸å–è€Œä»£ä¹‹å¯«æˆ <code class=\"language-text\">super(props, context)</code> å‘¢ï¼Ÿå…¶å¯¦æˆ‘å€‘å¯ä»¥ï¼Œåªæ˜¯ context ä½¿ç”¨çš„é »ç‡æ¯”è¼ƒä½ï¼Œæœƒè¸©åˆ°çš„é›·ä¸¦ä¸æ˜¯é‚£éº¼å¤šã€‚</p>\n<p><strong>ç•¶æœ‰äº†é¡åˆ¥æ¬„ä½ææ¡ˆï¼Œæ•´å€‹é€™ç¨®çš„é›·å¤§éƒ¨ä»½éƒ½æœƒæ¶ˆå¤±ã€‚</strong>åœ¨æ²’æœ‰æ¨™æ˜å»ºæ§‹å­çš„ç‹€æ³ä¸‹ï¼Œæ‰€æœ‰çš„åƒæ•¸éƒ½æœƒè‡ªå‹•åœ°è¢«å¸¶å…¥ã€‚é€™æ¨£å°±å…è¨±äº†åƒ <code class=\"language-text\">state = {}</code> é€™æ¨£çš„è¡¨é”å¼ï¼Œåœ¨æœ‰éœ€è¦çš„ç‹€æ³ä¸‹ï¼Œé‚„æ˜¯èƒ½åŒ…å«åƒè€ƒï¼ˆreferenceï¼‰ <code class=\"language-text\">this.props</code> è·Ÿ <code class=\"language-text\">this.context</code> çš„èƒ½åŠ›ã€‚</p>\n<p>è€Œç•¶æœ‰äº† Hooks å¾Œï¼Œæˆ‘å€‘ç”šè‡³ä¸éœ€è¦ <code class=\"language-text\">super</code> æˆ–æ˜¯ <code class=\"language-text\">this</code>ã€‚ä½†é€™å°±æ”¹å¤©å†èªªäº†ã€‚</p>","timeToRead":7,"frontmatter":{"title":"ç‚ºä»€éº¼æˆ‘å€‘è¦å¯« super(props) ï¼Ÿ","date":"November 30, 2018","spoiler":"åœ¨çµå°¾æœ‰ä¸€å€‹è½‰æŠ˜ã€‚"},"fields":{"slug":"/zh-hant/why-do-we-write-super-props/","langKey":"zh-hant"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/zh-hant/why-do-we-write-super-props/","translations":["de","fr","it","cs","es","nl","pt-br","sk","nb","tr","sr","zh-hans","zh-hant","ja","fa","my","hu","th","uk","vi"],"translatedLinks":[]}}}